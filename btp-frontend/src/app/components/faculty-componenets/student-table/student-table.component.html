<h4 class="heading"></h4>
<mat-accordion>
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{ project["title"] }}
      </mat-panel-title>
      <mat-panel-description>
        <div class="flex-space"></div>
        Student Intake : {{ project["studentIntake"] }}
        <div class="flex-space"></div>
        Duration : {{ project["duration"] }}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <p>Description : {{ project["description"] }}</p>
  </mat-expansion-panel>
</mat-accordion>
<div class="flex-space"></div>

<h4 class="heading_pref">Preferences:</h4>
<div class="example-list" cdkDropList (cdkDropListDropped)="drop($event)">
  <mat-divider></mat-divider>
  <mat-card>
    <div class="row header data">
      <div class="render"><strong>Name</strong></div>
      <div class="flex-grow"></div>
      <div class="render"><strong>CGPA</strong></div>
      <div class="flex-grow"></div>
      <div class="render"><strong>Roll No</strong></div>
      <div class="flex-grow"></div>
      <div class="render"><strong>Preference</strong></div>
      <div class="flex-grow"></div>
      <div class="saveButton">
          <button  mat-raised-button color="warn" (click)="onSubmit()">
            Save Preferences
          </button>
      </div>
    </div>
  </mat-card>

  <div
    class="example-box"
    *ngFor="let student of student_list;let i = index"
    [cdkDragDisabled]="adminStage != 2 ? true : false"
    cdkDrag
  >
    <mat-list-item>
      <div class="row data">
        <div class="render">
          {{
            student.name.length > 20
              ? student.name.substring(0, 15) + "...."
              : student.name
          }}
        </div>
        <div class="flex-grow"></div>
        <div class="render">
          {{ student.gpa | number:'1.2-3'}}
        </div>
        <div class="flex-grow"></div>
        <div class="render">
          {{ student.roll_no }}
        </div>
        <div class="flex-grow"></div>
        <div class="render"  *ngIf="student._id">
          {{ "" | preference:project._id:student._id:student_list}}
        </div>
        <div class="flex-grow"></div>
        <div class="render">
          <mat-icon
            *ngIf="i != 0"
            matTooltip="Push {{ student_list[i].name }} to top"
            [matTooltipPosition]="'above'"
            (click)="moveToTop(student_list[i])"
            >vertical_align_top</mat-icon
          >
          <mat-icon
            *ngIf="i != student_list.length - 1"
            matTooltip="Push {{ student_list[i].name }} to bottom"
            [matTooltipPosition]="'above'"
            (click)="moveToBottom(student_list[i])"
            >vertical_align_bottom</mat-icon
          >
          <mat-icon
            *ngIf="i != 0"
            matTooltip="Move {{ student_list[i].name }} up"
            [matTooltipPosition]="'above'"
            (click)="moveOneUp(i)"
            >arrow_upward</mat-icon
          >
          <mat-icon
            *ngIf="i != student_list.length - 1"
            matTooltip="Move {{ student_list[i].name }} down"
            [matTooltipPosition]="'above'"
            (click)="moveOneDown(i)"
            >arrow_downward</mat-icon
          >
        </div>
      </div>
    </mat-list-item>
  </div>
</div>


